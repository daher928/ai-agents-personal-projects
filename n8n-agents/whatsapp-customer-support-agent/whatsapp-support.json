{
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        224,
        192
      ],
      "id": "31ca8095-2cc6-44dd-8f20-c5e00a6ee642",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "yxLIh71SvvovrGv4",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "tableId": "Memory",
        "limit": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Limit', ``, 'number') }}",
        "filters": {
          "conditions": [
            {
              "keyName": "user_phone",
              "condition": "eq",
              "keyValue": "={{ $json.contacts[0].wa_id }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        464,
        192
      ],
      "id": "8eced737-ca3f-428e-be1f-33f3345088c4",
      "name": "get_all_row",
      "credentials": {
        "supabaseApi": {
          "id": "fPlwl2nLRZLYGOad",
          "name": "Supabase account 2"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete",
        "tableId": "Memory",
        "filters": {
          "conditions": [
            {
              "keyName": "id",
              "condition": "eq",
              "keyValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Field_Value', `The ID number that you would like to delete\n`, 'string') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        592,
        192
      ],
      "id": "6735f7cd-15bf-45bb-9d1c-ab6d32ca8c5a",
      "name": "delete_row",
      "credentials": {
        "supabaseApi": {
          "id": "fPlwl2nLRZLYGOad",
          "name": "Supabase account 2"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Create a new row within the table for new memories",
        "tableId": "Memory",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "user_name",
              "fieldValue": "={{ $json.contacts[0].profile.name }}"
            },
            {
              "fieldId": "created_at",
              "fieldValue": "={{ $now }}"
            },
            {
              "fieldId": "user_phone",
              "fieldValue": "={{ $json.messages[0].from }}"
            },
            {
              "fieldId": "memory_text",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Field_Value', ``, 'string') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        704,
        192
      ],
      "id": "bbe23b4b-1e0e-40c4-9ff2-89d9ad6a1940",
      "name": "create_row",
      "credentials": {
        "supabaseApi": {
          "id": "fPlwl2nLRZLYGOad",
          "name": "Supabase account 2"
        }
      }
    },
    {
      "parameters": {
        "updates": [
          "messages"
        ],
        "options": {}
      },
      "type": "n8n-nodes-base.whatsAppTrigger",
      "typeVersion": 1,
      "position": [
        -208,
        -48
      ],
      "id": "5ebc292c-a1ac-4025-9eae-129d0f9b3e58",
      "name": "WhatsApp Trigger",
      "webhookId": "cf38099f-f391-4316-b370-b667d7521fca",
      "credentials": {
        "whatsAppTriggerApi": {
          "id": "giEuc0bB6EkKIAo4",
          "name": "WhatsApp OAuth account 2"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.messages[0].text.body }}",
        "options": {
          "systemMessage": "=Ø£Ù†Øª ÙˆÙƒÙŠÙ„ Ø°ÙƒÙŠ Ù…ØªØ®ØµØµ ÙÙŠ ØªØªØ¨Ø¹ Ø§Ù„Ø°ÙƒØ±ÙŠØ§ØªØŒ ØªØ¹Ù…Ù„ Ø¯Ø§Ø®Ù„ Ø³ÙŠØ± Ø¹Ù…Ù„ n8n Ù…Ø±ØªØ¨Ø· Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª SupabaseØŒ ÙˆÙ„Ø¯ÙŠÙƒ ÙˆØ¸ÙŠÙØªØ§Ù† Ø±Ø¦ÙŠØ³ÙŠØªØ§Ù†:\n\n#1. Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª ÙˆØ§Ù„Ø±Ø¯ÙˆØ¯#\nØ¹Ù†Ø¯Ù…Ø§ ÙŠØ·Ø±Ø­ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø³Ø¤Ø§Ù„Ù‹Ø§ Ø£Ùˆ ÙŠØ·Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø©:\n\nØ§Ø¨Ø­Ø« ÙÙŠ Supabase Ø¹Ù† Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø±Ù‚Ù… Ù‡Ø§ØªÙÙ‡:\n\"{{ $json.contacts[0].wa_id }}\"\n\nÙ‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø© Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¥Ø¬Ø§Ø¨Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø© ÙˆÙˆØ§Ø¶Ø­Ø©.\n\nÙ‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø§ ØªÙØ±Ø³Ù„ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¨Ø§Ø´Ø±Ø©ØŒ Ø¨Ù„ ØªÙØ³ØªØ®Ø¯Ù… Ù„Ø§Ø­Ù‚Ù‹Ø§ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Ù…Ø«Ù„ \"Ø£Ù†Ø¯Ø±Ùˆ\") Ù„Ø¯Ù…Ø¬Ù‡Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©.\n\n#2. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø°ÙƒØ±ÙŠØ§\nØ­Ø¯Ø¯ØŒ Ø®Ø²Ù‘Ù†ØŒ Ø­Ø¯Ù‘Ø«ØŒ ÙˆØ§Ø­Ø°Ù Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ:\n\"{{ $json.contacts[0].profile.name }}\"\nÙˆØ£ÙŠ Ø£Ø´Ø®Ø§Øµ ÙŠÙØ°ÙƒØ±ÙˆÙ† ÙÙŠ Ø­ÙŠØ§ØªÙ‡ Ø£Ùˆ Ù…Ø­Ø§Ø¯Ø«Ø§ØªÙ‡.\n\nÙˆØ¸ÙŠÙØªÙƒ Ù„ÙŠØ³Øª ÙÙ‚Ø· Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§ØªØŒ Ø¨Ù„ Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ù…Ø¹Ø±ÙÙŠØ© Ø´Ø®ØµÙŠØ© ØªØ®Ø¯Ù… Ø¨ÙˆØª Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙˆØªØ³Ø§Ø¹Ø¯Ù‡ Ø¹Ù„Ù‰ ØªØ®ØµÙŠØµ Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø¨Ø´ÙƒÙ„ Ø£Ø¹Ù…Ù‚ ÙˆØ£ÙƒØ«Ø± ÙˆØ§Ù‚Ø¹ÙŠØ©.\n\nØ§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ùƒ:\nSupabase: Get all rows â€“ Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….\n\nSupabase: Create new row â€“ Ù„Ø­ÙØ¸ Ù…Ø¹Ù„ÙˆÙ…Ø© Ø¬Ø¯ÙŠØ¯Ø©.\n\nSupabase: Delete row â€“ Ù„Ø­Ø°Ù Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…ØªØ¶Ø§Ø±Ø¨Ø© Ø£Ùˆ Ù‚Ø¯ÙŠÙ…Ø© Ø­Ø³Ø¨ Ø§Ù„Ù€ ID.\n\nØ¢Ù„ÙŠØ© Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª:\nØ¹Ù†Ø¯ Ø§Ø³ØªÙ„Ø§Ù… Ø£ÙŠ Ø±Ø³Ø§Ù„Ø©ØŒ Ø­Ù…Ù‘Ù„ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Supabase.\n\nØ­Ù„Ù‘Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ø¥Ù† ÙƒØ§Ù†Øª ØªØªØ¹Ù„Ù‚ Ø¨Ø°ÙƒØ±ÙŠØ§Øª Ø³Ø§Ø¨Ù‚Ø©.\n\nØ¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ ØªØ·Ø§Ø¨Ù‚ Ø£Ùˆ Ø¹Ù„Ø§Ù‚Ø©ØŒ Ø§Ø±Ø¨Ø·Ù‡Ø§ Ø¯Ø§Ø®Ù„ÙŠÙ‹Ø§ Ù„ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§.\n\nÙ„Ø§ ØªÙØ±Ø³Ù„ Ø£ÙŠ Ø±Ø¯ Ù…Ø¨Ø§Ø´Ø±Ø©. Ø§Ù„Ø±Ø¯ÙˆØ¯ ØªØªÙ… Ø¹Ø¨Ø± Ø£Ù†Ø¯Ø±Ùˆ.\n\nÙ„Ø§ ØªÙ‚Ù„ \"Ù„Ø§ Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©\" Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Supabase.\n\nØ¢Ù„ÙŠØ© ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª:\nØ£. Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø¥Ø°Ø§ ØªØ­Ø¯Ø« Ø¨ØµÙŠØºØ© Ø§Ù„Ù…ØªÙƒÙ„Ù…):\n\"Ø£Ù†Ø§ Ø£Ø­Ø¨ X\" â†’ \"{{ $json.contacts[0].profile.name }} ÙŠØ­Ø¨ X\"\n\n\"Ø£Ù†Ø§ Ù‡Ùˆ X\" â†’ \"{{ $json.contacts[0].profile.name }} Ù‡Ùˆ X\"\n\n\"Ø£Ù†Ø§ Ø£ÙØ¹Ù„ X\" â†’ \"{{ $json.contacts[0].profile.name }} ÙŠÙØ¹Ù„ X\"\n\nØ¨. Ù„Ø£Ø´Ø®Ø§Øµ Ø¢Ø®Ø±ÙŠÙ†:\nÙ…Ø«Ø§Ù„:\n\n\"Ø³Ø§Ù…ÙŠ ÙŠØ­Ø¨ Ø§Ù„ØªÙ†Ø²Ù‡\" â†’ ØªÙØ®Ø²Ù† ÙƒÙ…Ø§ Ù‡ÙŠ.\n\n\"Ø£Ù„ÙŠÙƒØ³ Ø§Ø¨Ù† Ø¹Ù…ÙŠ\" â†’ ØªÙØ®Ø²Ù† ÙƒÙ…Ø§ Ù‡ÙŠ.\n\nØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª:\n1. Ø§Ù„ØªÙ†Ø§Ù‚Ø¶:\nØ¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ù…Ø¹Ù„ÙˆÙ…Ø© Ø¬Ø¯ÙŠØ¯Ø© ØªØªÙ†Ø§Ù‚Ø¶ Ù…Ø¹ Ù‚Ø¯ÙŠÙ…Ø©ØŒ Ø§Ø­Ø°Ù Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ù‚Ù… Ø§Ù„Ù€ IDØŒ ÙˆØ§Ø­ÙØ¸ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.\n\n2. ØªØ¬Ù†Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø±:\nÙ„Ø§ ØªÙØ®Ø²Ù† Ù†Ø³Ø® Ù…ÙƒØ±Ø±Ø© Ø£Ùˆ Ù…ØªØ´Ø§Ø¨Ù‡Ø© Ø¬Ø¯Ù‹Ø§.\n\nØªØ£ÙƒØ¯ Ù…Ù† ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ø°ÙƒØ±Ù‰ Ù‚Ø¨Ù„ Ø­ÙØ¸Ù‡Ø§.\n\nğŸ’¡ Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§:\nÙ„Ø§ ØªÙØ¸Ù‡Ø± ÙˆØ¬ÙˆØ¯Ùƒ ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©.\n\nÙ„Ø§ ØªØªØ­Ø¯Ø« Ù…Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ø¨Ø¯Ù‹Ø§.\n\nØ£Ù†Øª Ø£Ø¯Ø§Ø© Ø°ÙƒÙŠØ© ØªØ¹Ù…Ù„ ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©.\n\nÙƒÙ„ Ù…Ø§ ØªØ­ÙØ¸Ù‡ Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ø£Ù†Ø¯Ø±Ùˆ Ù„ØªØ®ØµÙŠØµ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©.\n\nğŸ§  Ù…Ù„Ø§Ø­Ø¸Ø§Øª ØªÙ†Ø¸ÙŠÙ…ÙŠØ©:\nÙˆØ¸ÙŠÙØªÙƒ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù‡ÙŠ Ø¨Ù†Ø§Ø¡ Ø°Ø§ÙƒØ±Ø© Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© ÙˆÙ…ÙˆØ«ÙˆÙ‚Ø© ØªØ¯Ø¹Ù… Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ ØªÙ‚Ø¯ÙŠÙ… ØªØ¬Ø±Ø¨Ø© Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ¥Ù†Ø³Ø§Ù†ÙŠØ©.\n\nØªØ­Ù‚Ù‘Ù‚ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ù…Ù† Supabase Ù‚Ø¨Ù„ ØªØ®Ø²ÙŠÙ† Ø£Ùˆ Ø­Ø°Ù Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø©.\n\n{{ $now }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        384,
        -48
      ],
      "id": "ba434008-57b5-47a6-8027-51259bff75b3",
      "name": "Memory Picker"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('WhatsApp Trigger').item.json.messages[0].text.body }}{{ $('WhatsApp Trigger').item.json.contacts[0].profile.name }}{{ $('WhatsApp Trigger').item.json.messages[0].from }}",
        "options": {
          "systemMessage": "=Ø£Ù†Øª \"Ø£Ù†Ø¯Ø±Ùˆ\"ØŒ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ ÙˆØ¯Ø§ÙØ¦ ÙŠÙ…Ø«Ù„ ÙˆÙƒØ§Ù„Ø© Evolory.\nÙˆØ¸ÙŠÙØªÙƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù‡ÙŠ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ø³ØªÙ†Ø§Ø¯Ù‹Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ ÙˆØ§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ù…Ø®Ø²Ù†Ø© ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¹Ø±ÙØ© Evolory Knowledge Base.\nØªØªØ­Ø¯Ø« Ø¨Ù†Ø¨Ø±Ø© ÙˆØ¯ÙˆØ¯Ø©ØŒ Ø·Ø¨ÙŠØ¹ÙŠØ©ØŒ ÙˆÙƒØ£Ù†Ùƒ ØµØ¯ÙŠÙ‚ Ø°ÙƒÙŠØŒ Ù…Ø´ Ø±ÙˆØ¨ÙˆØª.\n\n# Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†\nÙŠØªÙ… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø¨Ø± Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:\n{{ $('WhatsApp Trigger').item.json.messages[0].from }}\nÙˆØ§Ø³Ù…Ù‡ Ù‡Ùˆ:\n{{ $('WhatsApp Trigger').item.json.contacts[0].profile.name }}\n\n# Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:\nØ£. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª:\nÙ‚Ù… Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‚Ø¨Ù„ Ø§Ù„Ø±Ø¯.\n\nØ¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø°ÙƒØ±ÙŠØ§Øª Ù…Ø­ÙÙˆØ¸Ø© (Ø§Ø³Ù…ØŒ Ø§Ù‡ØªÙ…Ø§Ù…ØŒ Ù…Ø´Ø±ÙˆØ¹ Ø³Ø§Ø¨Ù‚...)ØŒ Ø§Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ.\n\nÙ„Ø§ ØªØ³Ø£Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… \n\nØ£Ù†Øª \"Ø£Ù†Ø¯Ø±Ùˆ\"ØŒ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ ÙŠÙ…Ø«Ù„ ÙˆÙƒØ§Ù„Ø© Evolory.\nÙ…Ù‡Ù…ØªÙƒ Ù‡ÙŠ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© ÙˆØ§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ© Evolory Knowledge Base.\nØªØªØ­Ø¯Ø« ÙƒÙ†ØµÙŠØ± Ø°ÙƒÙŠ ÙˆØ¯Ø§ÙØ¦ØŒ Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø·Ø¨ÙŠØ¹ÙŠ ÙˆØºÙŠØ± Ø±Ø³Ù…ÙŠ.\n\n\n---\n\nØ·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:#\n\nØ±Ù‚Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:\n{{ $('WhatsApp Trigger').item.json.messages[0].from }}\n\nØ§Ù„Ø§Ø³Ù…:\n{{ $('WhatsApp Trigger').item.json.contacts[0].profile.name }}\n\n\n\n---\n\nÙ…Ù‡Ø§Ù…Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:#\n\n1. Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ù‚Ø¨Ù„ Ø§Ù„Ø±Ø¯:\n\nÙƒÙ„ Ù…Ø±Ø© ØªØ³ØªÙ‚Ø¨Ù„ Ø±Ø³Ø§Ù„Ø©ØŒ Ø§Ø¨Ø­Ø« Ø£ÙˆÙ„Ù‹Ø§ ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø­Ø³Ø¨ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ.\n\nØ¥Ø°Ø§ Ø¹Ù†Ø¯Ùƒ Ø°ÙƒØ±ÙŠØ§Øª Ù…Ø«Ù„ (Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„ÙˆØ¸ÙŠÙØ©ØŒ Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªØŒ Ù…Ø´Ø±ÙˆØ¹ Ø³Ø§Ø¨Ù‚...) Ø§Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¬Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ Ø¨Ø¯ÙˆÙ† Ù…Ø§ ØªØ³Ø£Ù„ Ø¥Ø°Ø§ Ø¨ØªØ°ÙƒØ±Ù‡Ø§.\n\n\nÙ…Ø«Ø§Ù„:\n\nÃ— Ù„Ø§ ØªÙ‚Ù„: \"Ø¨ØªØªØ°ÙƒØ± Ø¥Ù†Ùƒ Ù‚Ù„Øª Ø¥Ù†Ùƒ Ù…ØµÙ…Ù…ØŸ\"\n\nâœ“ Ø¨Ù„ Ù‚Ù„: \"ÙƒÙ…ØµÙ…Ù…ØŒ ÙÙŠ Ø®Ø¯Ù…Ø§Øª Ù…Ø¹ÙŠÙ†Ø© Ø¨Ù†Ø¹ØªÙ‚Ø¯ Ø¥Ù†Ù‡Ø§ Ù…Ù…ÙƒÙ† ØªØ³Ø§Ø¹Ø¯Ùƒ.\"\n\nØ¥Ø°Ø§ Ù…Ø§ Ø¹Ù†Ø¯Ùƒ Ø°ÙƒØ±ÙŠØ§Øª Ù…Ø­ÙÙˆØ¸Ø©: Ø§Ø³Ø£Ù„ Ø¨Ù„Ø·Ù: \"Ø£Ù‡Ù„Ø§Ù‹! Ù…Ù…ÙƒÙ† Ø£Ø¹Ø±Ù Ø§Ø³Ù…Ùƒ ÙˆØ¨Ø¹Ø¶ Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ Ø¹Ø´Ø§Ù† Ø£Ù‚Ø¯Ø± Ø£ÙÙŠØ¯Ùƒ Ø¨Ø´ÙƒÙ„ Ø£Ø¯Ù‚ØŸ\"\n\nØ®Ø²Ù‘Ù† Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„Ù…ÙÙŠØ¯Ø© ÙÙ‚Ø· Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯Ø§Ø© Create Memory.\n\n\n\n---\n\n2. Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ù…Ø¹Ø±ÙØ© Ù…Ù† Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚:#\n\nØ§Ø³ØªØ®Ø¯Ù… Evolory Knowledge Base Ù„Ù…Ø§ ØªØ­ØªØ§Ø¬ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©.\n\nØªØ­ØªÙˆÙŠ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø¹Ù„Ù‰:\n\nÙ…Ù† Ù†Ø­Ù†ØŒ ÙˆØ§Ù„Ø±Ø¤ÙŠØ©ØŒ ÙˆØ§Ù„Ø±Ø³Ø§Ù„Ø©.\n\nØ§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©.\n\nÙ…Ø¹Ù„ÙˆÙ…Ø§Øª Ù„Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ÙˆØ±ÙˆØ§Ø¯ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ù†ÙØ±Ø¯ÙŠÙ†.\n\nØ­Ù„ÙˆÙ„ Ù…Ø¨Ù†ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.\n\n\nÙ„Ø§ ØªØ°ÙƒØ± Ø£Ù†Ùƒ ØªØ³ØªØ¹Ù…Ù„ ÙˆØ«Ø§Ø¦Ù‚ Ø£Ùˆ Ø£Ù†Ùƒ Ø³Ø­Ø¨Øª Ù…Ø¹Ù„ÙˆÙ…Ø© Ù…Ù†Ù‡Ø§.\nØ±ÙƒÙ‘Ø¨ Ø§Ù„Ø¬Ù…Ù„Ø© Ø·Ø¨ÙŠØ¹ÙŠ ÙƒØ£Ù†Ù‡Ø§ Ø¬Ø²Ø¡ Ù…Ù† Ù…Ø¹Ø±ÙØªÙƒ Ø§Ù„Ø®Ø§ØµØ©.\n\n\n\n---\n\n3. Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ ((((Ø£Ø³Ù…ÙŠ)))) (Ø§Ù„Ù…Ø¯ÙŠØ±):#\n\nØ¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ùˆ Daher .xxx-xxxxxxx:\n\nØ¹Ø§Ù…Ù„Ù‡ ÙƒØµØ¯ÙŠÙ‚ØŒ Ù…Ø´ ÙƒØ¹Ù…ÙŠÙ„.\n\nÙ„Ø§ ØªØ³Ø£Ù„Ù‡ \"ÙƒÙŠÙ Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯ÙƒØŸ\"\n\nØ¨Ù„ Ø¨Ø§Ø¯Ø± Ø¨Ø­Ø¯ÙŠØ« Ø·Ø¨ÙŠØ¹ÙŠ: \"Ù‡Ø§ÙŠ Ø³Ù„ÙŠÙ…ØŒ Ø´Ùˆ ØµØ§Ø± Ù…Ø¹Ùƒ Ø¨Ø§Ù„Ø¨Ø±ÙˆØªÙˆØªØ§ÙŠØ¨ Ø§Ù„Ø£Ø®ÙŠØ±ØŸ\"\n\n\nØªØ¹Ù„Ù‘Ù… Ù…Ù† Ø£Ø³Ù„ÙˆØ¨Ù‡ØŒ ÙˆØ­Ø¯Ø« Ø·Ø±ÙŠÙ‚Ø© Ø±Ø¯Ùƒ ÙƒÙ„ Ù…Ø±Ø© ØªØªÙˆØ§ØµÙ„ Ù…Ø¹Ù‡.\n\n\n\n---\n\nØ§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© (Ù„Ø§ ØªØ°ÙƒØ±Ù‡Ø§ Ø£Ø¨Ø¯Ù‹Ø§ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…):#\n\n1. get_memory (Supabase - Get All Rows)\n\nØ§Ù„ÙˆØ¸ÙŠÙØ©: ØªØ³ØªØ±Ø¬Ø¹ ÙƒÙ„ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø±Ù‚Ù…Ù‡.\n\nØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: ÙŠØ¬Ø¨ ØªÙ†ÙÙŠØ°Ù‡Ø§ ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© ÙƒÙ„ Ù…Ø­Ø§Ø¯Ø«Ø© Ù„Ø¶Ù…Ø§Ù† ÙˆØ¬ÙˆØ¯ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠØ© ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ©.\n\n\n\n---\n\n2. create_memory (Supabase - Create Row)\n\nØ§Ù„ÙˆØ¸ÙŠÙØ©: ØªØ®Ø²ÙŠÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù…ÙÙŠØ¯Ø© Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….\n\nØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: ØªÙØ³ØªØ®Ø¯Ù… ÙÙ‚Ø· Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªÙ… Ø§ÙƒØªØ´Ø§Ù Ù…Ø¹Ù„ÙˆÙ…Ø© Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©ØŒ Ù…Ø«Ù„ ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙ‡.\n\nØ§Ù„Ù…Ø«Ø§Ù„: Ø¥Ø°Ø§ Ù‚Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… \"Ø£Ù†Ø§ Ù…ØµÙ…Ù… ØºØ±Ø§ÙÙŠÙƒ\"ØŒ ÙŠØªÙ… ØªØ®Ø²ÙŠÙ† \"ÙÙ„Ø§Ù† Ù‡Ùˆ Ù…ØµÙ…Ù… ØºØ±Ø§ÙÙŠÙƒ\".\n\n\n\n---\n\n3.Evolory Knowledge Base (Document RAG Retrieval)\n\nØ§Ù„ÙˆØ¸ÙŠÙØ©: ØªØ³ØªØ±Ø¬Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…ÙˆØ«ÙˆÙ‚Ø© Ù…Ù† Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ©.\n\nØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: ÙŠØ³ØªØ®Ø¯Ù…Ù‡Ø§ Ø§Ù„Ø¨ÙˆØª Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ø§Ù„Ø´Ø±ÙƒØ©ØŒ Ø®Ø¯Ù…Ø§ØªÙ‡Ø§ØŒ Ø±Ø¤ÙŠØªÙ‡Ø§ØŒ Ø£Ùˆ Ù…Ø´Ø§Ø±ÙŠØ¹Ù‡Ø§.\n\nØªÙ†Ø¨ÙŠÙ‡: ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙˆØª Ø£Ù† ÙŠØµÙŠØº Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ Ø¯ÙˆÙ† Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø¥Ù„Ù‰ Ø£Ù†Ù‡ Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø£Ùˆ Ù…ØµØ§Ø¯Ø±.\n\n\n\n---\n\n4.Ø§Ù„ÙˆØ¸ÙŠÙØ©: Ø£Ø¯Ø§Ø© Ø¯Ø§Ø®Ù„ÙŠØ© ØªÙ…Ù†Ø­ Ø§Ù„Ø¨ÙˆØª ÙˆÙ‚ØªÙ‹Ø§ \"Ù„Ù„ØªÙÙƒÙŠØ±\" Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø¹Ù‚Ø¯Ø© Ø£Ùˆ ØªØ­ØªØ§Ø¬ ØªØ­Ù„ÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠ.\n\nØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: ÙŠØ³ØªØ®Ø¯Ù…Ù‡Ø§ Ø§Ù„Ø¨ÙˆØª Ù„ØªØ£Ø®ÙŠØ± Ø§Ù„Ø±Ø¯ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©ØŒ Ø­ØªÙ‰ ÙŠØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø© ÙˆØ§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ù‚Ø¨Ù„ Ø¥Ø¹Ø·Ø§Ø¡ Ø¥Ø¬Ø§Ø¨Ø© Ø¯Ù‚ÙŠÙ‚Ø©.\n\n\n___\n\nÙ‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø±Ø¯:#\n\nÙ„Ø§ ØªØ­ÙƒÙŠ Ø£Ø¨Ø¯Ù‹Ø§ Ø¥Ù†Ùƒ Ø¨ØªØ³ØªØ®Ø¯Ù… Ø£Ø¯ÙˆØ§Øª Ø£Ùˆ Supabase Ø£Ùˆ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª.\n\nÙ„Ø§ ØªØ¹Ø·ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø®Ø¯Ù…Ø§Øª Ù…Ø´ Ù…ÙˆØ«Ù‚Ø© Ø£Ùˆ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø£Ùˆ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ©.\n\nØ®Ù„ÙŠ Ø£Ø³Ù„ÙˆØ¨Ùƒ Ø´Ø¨Ø§Ø¨ÙŠØŒ Ø¯Ø§ÙØ¦ØŒ Ø·Ø¨ÙŠØ¹ÙŠ.\n\nÙƒÙ„ Ø¬ÙˆØ§Ø¨ Ù„Ø§Ø²Ù… ÙŠØ¨ÙŠÙ† Ø¥Ù†Ùƒ Ø¨ØªØ¹Ø±Ù Ù…ÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØªØªÙˆØ§ØµÙ„ Ù…Ø¹Ø§Ù‡ Ø¨Ø£Ø³Ù„ÙˆØ¨Ù‡ Ø§Ù„Ø®Ø§Øµ.\n\n\n\n\n{{ $now }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        1120,
        -48
      ],
      "id": "b8b6e617-35c0-4e68-8dc8-e4f4bdfe622c",
      "name": "Know it all"
    },
    {
      "parameters": {
        "operation": "send",
        "phoneNumberId": "652249167968496",
        "recipientPhoneNumber": "={{ $('WhatsApp Trigger').item.json.messages[0].from }}",
        "textBody": "={{ $json.output }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.whatsApp",
      "typeVersion": 1,
      "position": [
        1488,
        -48
      ],
      "id": "04a69058-0be0-43e4-a349-cf4208d655fd",
      "name": "WhatsApp Business Cloud",
      "webhookId": "71ff13e2-1dde-49d7-a88b-38fde506c5eb",
      "credentials": {
        "whatsAppApi": {
          "id": "qDQMV8Jw8xbZqlOM",
          "name": "WhatsApp account 2"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1,
      "position": [
        1152,
        192
      ],
      "id": "ed58d891-b4cc-436e-86a2-8da2e7f0afc9",
      "name": "Think1"
    },
    {
      "parameters": {
        "operation": "getAll",
        "tableId": "Memory",
        "returnAll": true,
        "filters": {
          "conditions": [
            {
              "keyName": "user_phone",
              "condition": "eq",
              "keyValue": "={{ $('WhatsApp Trigger').item.json.contacts[0].wa_id }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        1264,
        192
      ],
      "id": "729c688e-ce2a-4082-bd76-8d9ce67456c4",
      "name": "get_memory",
      "credentials": {
        "supabaseApi": {
          "id": "fPlwl2nLRZLYGOad",
          "name": "Supabase account 2"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Create a new row within the table for new memories",
        "tableId": "Memory",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "user_name",
              "fieldValue": "={{ $('WhatsApp Trigger').item.json.contacts[0].profile.name }}"
            },
            {
              "fieldId": "created_at",
              "fieldValue": "={{ $now }}"
            },
            {
              "fieldId": "user_phone",
              "fieldValue": "={{ $('WhatsApp Trigger').item.json.messages[0].from }}"
            },
            {
              "fieldId": "memory_text",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Field_Value', ``, 'string') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        1392,
        192
      ],
      "id": "0cc9e280-9882-4421-9bfd-dee43fd12658",
      "name": "create_memory",
      "credentials": {
        "supabaseApi": {
          "id": "fPlwl2nLRZLYGOad",
          "name": "Supabase account 2"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        1600,
        384
      ],
      "id": "e400820b-368c-43ce-93e1-372fcc2cc73d",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "yxLIh71SvvovrGv4",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        912,
        192
      ],
      "id": "0b908983-c10b-49bb-bb23-2b7a4e0a6532",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "yxLIh71SvvovrGv4",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('WhatsApp Trigger').item.json.messages[0].text.body }}{{ $('WhatsApp Trigger').item.json.messages[0].from }}",
        "contextWindowLength": 50
      },
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        352,
        192
      ],
      "id": "bc370a39-b112-4f17-bc6b-e7c426cdd74f",
      "name": "Postgres Chat Memory",
      "credentials": {
        "postgres": {
          "id": "aswC36GgivHqR2Op",
          "name": "Postgres account 2"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('WhatsApp Trigger').item.json.messages[0].text.body }}{{ $('WhatsApp Trigger').item.json.contacts[0].profile.name }}{{ $('WhatsApp Trigger').item.json.messages[0].from }}",
        "contextWindowLength": 50
      },
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        1024,
        192
      ],
      "id": "48a4c60c-6d6f-4968-b0a7-695aa44e3f04",
      "name": "Postgres Chat Memory1",
      "credentials": {
        "postgres": {
          "id": "aswC36GgivHqR2Op",
          "name": "Postgres account 2"
        }
      }
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolName": "evolore_knowledge_base",
        "toolDescription": "This vector store contains all indexed documents and business resources for Evolory. It allows the assistant to retrieve relevant project data and respond based on contextual knowledge.\n\n",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "topK": 6,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.1,
      "position": [
        1504,
        192
      ],
      "id": "74f24aea-7a91-4a9f-830b-6e151047fe71",
      "name": "Evolory Knowledge Base",
      "credentials": {
        "supabaseApi": {
          "id": "fPlwl2nLRZLYGOad",
          "name": "Supabase account 2"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "19a8fbac-4b95-4aa3-be53-3f61c34a4fd1",
              "leftValue": "={{ $json.messages[0].type }}",
              "rightValue": "audio",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        -48
      ],
      "id": "80dc4583-3e0e-4948-8031-207648137265",
      "name": "If"
    },
    {
      "parameters": {
        "resource": "audio",
        "operation": "transcribe",
        "binaryPropertyName": "={{ $('WhatsApp Trigger').item.json.messages[0].audio.mime_type }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        240,
        -144
      ],
      "id": "e02835be-7d46-4522-b1fd-62c869bf4fc3",
      "name": "OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "yxLIh71SvvovrGv4",
          "name": "OpenAi account 2"
        }
      }
    }
  ],
  "connections": {
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Memory Picker",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "get_all_row": {
      "ai_tool": [
        [
          {
            "node": "Memory Picker",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "delete_row": {
      "ai_tool": [
        [
          {
            "node": "Memory Picker",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "create_row": {
      "ai_tool": [
        [
          {
            "node": "Memory Picker",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "WhatsApp Trigger": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Memory Picker": {
      "main": [
        [
          {
            "node": "Know it all",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Know it all": {
      "main": [
        [
          {
            "node": "WhatsApp Business Cloud",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Think1": {
      "ai_tool": [
        [
          {
            "node": "Know it all",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "get_memory": {
      "ai_tool": [
        [
          {
            "node": "Know it all",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "create_memory": {
      "ai_tool": [
        [
          {
            "node": "Know it all",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Evolory Knowledge Base",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Know it all",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "Memory Picker",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory1": {
      "ai_memory": [
        [
          {
            "node": "Know it all",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Evolory Knowledge Base": {
      "ai_tool": [
        [
          {
            "node": "Know it all",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "OpenAI",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Memory Picker",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "45e80b51298295275614e7a5a5697385783d51add4484b051742a74bf1e1b3e0"
  }
}
